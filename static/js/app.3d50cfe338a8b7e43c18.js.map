{"version":3,"sources":["webpack:///src/components/VirtualStream.vue","webpack:///./src/utils/getBrowser.js","webpack:///./src/components/VirtualStream.vue?d20f","webpack:///./src/components/VirtualStream.vue","webpack:///src/App.vue","webpack:///./src/App.vue?ed8e","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["browser","ua","navigator","userAgent","toLowerCase","indexOf","utils_getBrowser","VirtualStream","name","props","items","type","Array","required","reversed","Boolean","default","itemsPerChunk","Number","maxChunkPreload","preloadOffset","data","currentChunk","computed","[object Object]","chunkIndex","itemIndex","chunks","i","this","length","push","Math","ceil","methods","scrollTop","$refs","wrapper","scrollHeight","offsetHeight","prevScrollOffset","getPrevScrollOffset","nextScrollOffset","getNextScrollOffset","window","requestAnimationFrame","correctScrollPosition","itemsPrev","offset","itemsCurrent","itemsNext","height","scrollBottom","wasNext","correctTopScrollPosition","correctBottomScrollPosition","wrapperHeight","offsetter","getOffsetter","scrollPos","el","components_VirtualStream","render","_vm","_h","$createElement","_c","_self","ref","staticClass","class","VirtualStream__Wrapper--isReversed","on","scroll","handleScroll","chunkItems","_l","item","index","_t","_e","_v","staticRenderFns","App","components","__webpack_require__","normalizeComponent","ssrContext","generateMessages","debug","stream","num","messages","generateMessage","reverse","id","message","generator_default","sentenceLowerBound","sentenceUpperBound","splice","e","currentTarget","value","selectortype_template_index_0_src_App","app--isDebugging","attrs","items-per-chunk","scopedSlots","_u","key","fn","_s","click","addMessage","min","max","domProps","change","updateItemsPerChunk","checked","toggleDebug","chunkCount","src_App","App_normalizeComponent","Vue","config","productionTip","template"],"mappings":"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","file":"static/js/app.3d50cfe338a8b7e43c18.js","sourcesContent":["<template>\n  <div class=\"VirtualStream__Scroller\" ref=\"container\">\n    <div class=\"VirtualStream__Wrapper\" :class=\"{ 'VirtualStream__Wrapper--isReversed': reversed }\" ref=\"wrapper\" @scroll=\"handleScroll\">\n      <div class=\"VirtualStream__Items VirtualStream__Items--isPrev\" ref=\"itemsPrev\" v-if=\"chunkItems[currentChunk - 1]\">\n        <slot\n          v-for=\"(item, index) in chunkItems[currentChunk - 1]\"\n          :item=\"item\"\n          :index=\"index\"\n        />\n      </div>\n      <div class=\"VirtualStream__Items VirtualStream__Items--isCurrent\" ref=\"itemsCurrent\">\n        <slot\n          v-for=\"(item, index) in chunkItems[currentChunk]\"\n          :item=\"item\"\n          :index=\"index\"\n        />\n      </div>\n      <div class=\"VirtualStream__Items VirtualStream__Items--isNext\" ref=\"itemsNext\" v-if=\"chunkItems[currentChunk + 1]\">\n        <slot\n          v-for=\"(item, index) in chunkItems[currentChunk + 1]\"\n          :item=\"item\"\n          :index=\"index\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import getBrowser from '../utils/getBrowser'\n  const browser = getBrowser()\n\n  export default {\n    name: 'VirtualStream',\n    props: {\n      items: {\n        type: Array,\n        required: true,\n      },\n      reversed: {\n        type: Boolean,\n        default: false,\n      },\n      itemsPerChunk: {\n        type: Number,\n        default: 50,\n      },\n      maxChunkPreload: {\n        type: Number,\n        default: 1,\n      },\n      preloadOffset: {\n        type: Number,\n        default: 50\n      },\n    },\n    data() {\n      return {\n        currentChunk: 0,\n      }\n    },\n    computed: {\n      chunkItems () {\n        let chunkIndex = 0\n        let itemIndex = 0\n        const chunks = []\n\n        for (let i = 0; i < this.items.length; i++) {\n          if (!chunks[chunkIndex]) { chunks[chunkIndex] = [] }\n          chunks[chunkIndex].push(this.items[i])\n          itemIndex++\n\n          if (itemIndex >= this.itemsPerChunk) {\n            chunkIndex++\n            itemIndex = 0\n          }\n        }\n\n        return chunks\n      },\n      chunkCount () {\n        return Math.ceil(this.items.length / this.itemsPerChunk) - 1\n      }\n    },\n    methods: {\n      handleScroll() {\n        const scrollTop = (browser === 'safari') ?\n          (this.$refs.wrapper.scrollTop + this.$refs.wrapper.scrollHeight - this.$refs.wrapper.offsetHeight) :\n          this.$refs.wrapper.scrollTop\n        const prevScrollOffset = this.getPrevScrollOffset(scrollTop)\n        const nextScrollOffset = this.getNextScrollOffset(scrollTop)\n\n        if (prevScrollOffset && prevScrollOffset > this.preloadOffset) {\n          this.currentChunk--\n          window.requestAnimationFrame(() => {\n            this.correctScrollPosition(false)\n          })\n        }\n\n        if (nextScrollOffset && nextScrollOffset > this.preloadOffset) {\n          this.currentChunk++\n          window.requestAnimationFrame(() => {\n            this.correctScrollPosition(true)\n          })\n        }\n      },\n      getPrevScrollOffset(scrollTop) {\n        if (this.$refs.itemsPrev) {\n          const offset = this.$refs.itemsCurrent.offsetHeight + ((this.$refs.itemsNext) ? this.$refs.itemsNext.offsetHeight : 0)\n          const height = this.$refs.itemsPrev.offsetHeight\n          const scrollBottom = (scrollTop + this.$refs.wrapper.offsetHeight) - offset\n\n          if (scrollBottom >= 0) {\n            return (scrollBottom / height) * 100\n          }\n          return 0\n        }\n\n        return false\n      },\n      getNextScrollOffset(scrollTop) {\n        if (this.$refs.itemsNext) {\n          const height = this.$refs.itemsNext.offsetHeight\n          if (scrollTop <= height) {\n            return 100 - ((scrollTop / height) * 100)\n          }\n          return 0\n        }\n\n        return false\n      },\n      correctScrollPosition(wasNext) {\n        if (wasNext) {\n          this.correctTopScrollPosition()\n        } else {\n          this.correctBottomScrollPosition()\n        }\n      },\n      correctTopScrollPosition() {\n        const wrapperHeight = this.$refs.wrapper.offsetHeight\n        const offsetter = this.getOffsetter()\n        const offset = (this.$refs.itemsNext) ? this.$refs.itemsNext.offsetHeight : 0\n        const scrollPos = (browser === 'safari') ? ((offset + offsetter) - wrapperHeight) * -1 : offset + offsetter\n        this.$refs.wrapper.scrollTop = scrollPos\n      },\n      correctBottomScrollPosition() {\n        const wrapperHeight = this.$refs.wrapper.offsetHeight\n        const offsetter = this.getOffsetter()\n        const offset = (browser === 'safari') ? \n          ((this.$refs.itemsPrev) ? this.$refs.itemsPrev.offsetHeight : 0) + this.$refs.itemsCurrent.offsetHeight :\n          ((this.$refs.itemsNext) ? this.$refs.itemsNext.offsetHeight : 0) + this.$refs.itemsCurrent.offsetHeight\n        const scrollPos = (browser === 'safari') ? (offset - offsetter) * -1 : offset - offsetter\n        this.$refs.wrapper.scrollTop = scrollPos\n      },\n      getOffsetter(el) {\n        const curr = (this.$refs.itemsCurrent.offsetHeight * (this.preloadOffset / 100))\n        return curr\n      },\n    }\n  }\n</script>\n\n<style scoped>\n  .VirtualStream__Scroller {\n    height: 100%;\n    left: 0;\n    overflow: auto;\n    position: absolute;\n    top: 0;\n    width: 100%;\n  }\n\n  .VirtualStream__Wrapper {\n    -webkit-overflow-scrolling: touch;\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    overflow: auto;\n    width: 100%;\n  }\n\n  .VirtualStream__Wrapper--isReversed {\n    flex-direction: column-reverse;\n  }\n\n  .VirtualStream__Items {\n    display: flex;\n    flex-direction: column;\n    flex: 0 0 auto;\n  }\n\n  .VirtualStream__Wrapper--isReversed .VirtualStream__Items {\n    flex-direction: column-reverse;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/VirtualStream.vue","const getBrowser = () => {\n    const ua = navigator.userAgent.toLowerCase()\n\n    if (ua.indexOf('chrome') > -1) {\n        return 'google-chrome'\n    }\n    \n    if (ua.indexOf('safari') > -1) {\n        return 'safari'\n    }\n\n    return 'general'\n}\n\nexport default getBrowser\n\n\n// WEBPACK FOOTER //\n// ./src/utils/getBrowser.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\",staticClass:\"VirtualStream__Scroller\"},[_c('div',{ref:\"wrapper\",staticClass:\"VirtualStream__Wrapper\",class:{ 'VirtualStream__Wrapper--isReversed': _vm.reversed },on:{\"scroll\":_vm.handleScroll}},[(_vm.chunkItems[_vm.currentChunk - 1])?_c('div',{ref:\"itemsPrev\",staticClass:\"VirtualStream__Items VirtualStream__Items--isPrev\"},[_vm._l((_vm.chunkItems[_vm.currentChunk - 1]),function(item,index){return _vm._t(\"default\",null,{item:item,index:index})})],2):_vm._e(),_vm._v(\" \"),_c('div',{ref:\"itemsCurrent\",staticClass:\"VirtualStream__Items VirtualStream__Items--isCurrent\"},[_vm._l((_vm.chunkItems[_vm.currentChunk]),function(item,index){return _vm._t(\"default\",null,{item:item,index:index})})],2),_vm._v(\" \"),(_vm.chunkItems[_vm.currentChunk + 1])?_c('div',{ref:\"itemsNext\",staticClass:\"VirtualStream__Items VirtualStream__Items--isNext\"},[_vm._l((_vm.chunkItems[_vm.currentChunk + 1]),function(item,index){return _vm._t(\"default\",null,{item:item,index:index})})],2):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e4546226\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/VirtualStream.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e4546226\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./VirtualStream.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./VirtualStream.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./VirtualStream.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e4546226\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./VirtualStream.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e4546226\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/VirtualStream.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"app\" :class=\"{ 'app--isDebugging': debug }\" id=\"app\">\n    <div class=\"container\">\n      <div class=\"container-inner\">\n        <virtual-stream :items=\"items\" reversed :items-per-chunk=\"itemsPerChunk\" :preloadOffset=\"80\" ref=\"stream\">\n          <template slot-scope=\"{ item, index }\">\n            <div class=\"item\">\n              <div class=\"message\">{{ item.message }}</div>\n            </div>\n          </template>\n        </virtual-stream>\n      </div>\n      <div class=\"toolbar\">\n        <div>\n          <button v-on:click=\"addMessage\">Add message</button>\n          <div>\n            <label>\n              Items per Chunk\n              <input type=\"number\" :value=\"itemsPerChunk\" v-on:change=\"updateItemsPerChunk\" min=\"8\" max=\"100\" />\n            </label>\n          </div>\n        </div>\n        <label>\n          Enable debugging view\n          <input type=\"checkbox\" :checked=\"debug\" v-on:click=\"toggleDebug\" />\n        </label>\n        <div v-if=\"debug\">\n          Current Chunk: {{ stream.currentChunk }}<br />\n          Chunk Count: {{ stream.chunkCount }}<br />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport LoremIpsum from 'lorem-ipsum'\nimport VirtualStream from './components/VirtualStream'\n\nexport default {\n  name: 'App',\n  components: {\n    VirtualStream\n  },\n  data() {\n    return {\n      items: this.generateMessages(500),\n      itemsPerChunk: 8,\n      debug: false,\n      stream: false,\n    }\n  },\n  methods: {\n    generateMessages(num) {\n      const messages = []\n      for (let i = 0; i < num; i++) {\n        messages.push(this.generateMessage(i))\n      }\n      return messages.reverse()\n    },\n    generateMessage(id) {\n      return {\n        id,\n        message: LoremIpsum({\n          sentenceLowerBound: 5,\n          sentenceUpperBound: 100,\n        })\n      }\n    },\n    addMessage() {\n      this.items.splice(0, 0, this.generateMessage(this.items.length))\n    },\n    toggleDebug() {\n      this.debug = !this.debug\n    },\n    updateItemsPerChunk(e) {\n      this.itemsPerChunk = Number(e.currentTarget.value)\n    }\n  },\n  mounted() {\n    this.stream = this.$refs.stream\n  }\n}\n</script>\n\n<style>\nhtml,\nbody {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n}\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: left;\n  color: #2c3e50;\n}\n\n*,\n*:before,\n*:after {\n  box-sizing: border-box;\n}\n</style>\n\n<style scoped>\n.app {\n  background: #0a7e8c;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.app >>> .VirtualStream__Items {\n  position: relative;\n}\n\n.app.app--isDebugging >>> .VirtualStream__Items--isPrev:before,\n.app.app--isDebugging >>> .VirtualStream__Items--isNext:before {\n  background: #ff0000;\n  bottom: 0;\n  content: '';\n  display: block;\n  height: 32px;\n  top: 0;\n  width: 100%;\n  position: absolute;\n  margin: auto;\n}\n\n.app >>> .VirtualStream__Items--isPrev:before {\n  transform: translateY(32px);\n}\n\n.app >>> .VirtualStream__Items--isNext:before {\n  transform: traslateY(-32px);\n}\n\n.app.app--isDebugging >>> .VirtualStream__Items--isPrev {\n  background: #ccfccc;\n}\n\n.app.app--isDebugging >>> .VirtualStream__Items--isCurrent {\n  background: #fccccc;\n}\n\n.app.app--isDebugging >>> .VirtualStream__Items--isNext {\n  background: #ccccfc;\n}\n\n.item {\n  font-size: 16px;\n  line-height: 1.75em;\n  margin: 32px 0;\n  max-width: 80%;\n  padding: 8px 12px;\n  background: #f3f3f3;\n  border-radius: 12px;\n}\n\n.item:nth-child(2n) {\n  margin-left: auto;\n}\n\n.container {\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 40px 240px rgba(0, 0, 0, .35);\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 100%;\n  margin: 60px auto;\n  max-width: 800px;\n  overflow: hidden;\n  padding: 30px;\n  width: 90%;\n}\n\n.container-inner {\n  height: 100%;\n  position: relative;\n}\n\n.toolbar {\n  display: grid;\n  padding: 16px 0;\n  grid-template-columns: repeat(3, minmax(100px, 1fr));\n  grid-gap: 16px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\",class:{ 'app--isDebugging': _vm.debug },attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"container-inner\"},[_c('virtual-stream',{ref:\"stream\",attrs:{\"items\":_vm.items,\"reversed\":\"\",\"items-per-chunk\":_vm.itemsPerChunk,\"preloadOffset\":80},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nvar index = ref.index;\nreturn [_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"message\"},[_vm._v(_vm._s(item.message))])])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"toolbar\"},[_c('div',[_c('button',{on:{\"click\":_vm.addMessage}},[_vm._v(\"Add message\")]),_vm._v(\" \"),_c('div',[_c('label',[_vm._v(\"\\n            Items per Chunk\\n            \"),_c('input',{attrs:{\"type\":\"number\",\"min\":\"8\",\"max\":\"100\"},domProps:{\"value\":_vm.itemsPerChunk},on:{\"change\":_vm.updateItemsPerChunk}})])])]),_vm._v(\" \"),_c('label',[_vm._v(\"\\n        Enable debugging view\\n        \"),_c('input',{attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.debug},on:{\"click\":_vm.toggleDebug}})]),_vm._v(\" \"),(_vm.debug)?_c('div',[_vm._v(\"\\n        Current Chunk: \"+_vm._s(_vm.stream.currentChunk)),_c('br'),_vm._v(\"\\n        Chunk Count: \"+_vm._s(_vm.stream.chunkCount)),_c('br')]):_vm._e()])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-26fed259\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-26fed259\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-26fed259\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=1!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-26fed259\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-26fed259\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}