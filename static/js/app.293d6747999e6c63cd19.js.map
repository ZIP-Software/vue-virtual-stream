{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/App.vue?879a","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///../dist/vue-virtual-stream.esm.js"],"names":["App","name","components","VirtualStream","[object Object]","items","this","generateMessages","methods","num","messages","i","push","generateMessage","id","message","generator_default","sentenceLowerBound","sentenceUpperBound","selectortype_template_index_0_src_App","render","_vm","_h","$createElement","_c","_self","attrs","reversed","items-per-chunk","scopedSlots","_u","key","fn","ref","item","index","staticClass","_v","_s","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","Vue","config","productionTip","el","template","global","__vue_script__","props","type","Array","required","Boolean","default","itemsPerChunk","Number","maxChunkPreload","preloadOffset","data","currentChunk","computed","chunkItems","chunkIndex","itemIndex","chunks","length","chunkCount","Math","ceil","handleScroll","scrollTop","$refs","wrapper","prevScrollOffset","getPrevScrollOffset","nextScrollOffset","getNextScrollOffset","correctScrollPosition","itemsPrev","offset","itemsCurrent","offsetHeight","itemsNext","height","scrollBottom","wasNext","offsetter","scrollPos","scrollPos$1","__vue_render__","class","VirtualStream__Wrapper--isReversed","on","scroll","_l","_t","_e","_withStripped","style","script$$1","scope","functional","moduleIdentifier","createInjector","createInjectorSSR","hook","component","options","__file","_compiled","_scopeId","context","call","undefined","originalRender","h","existing","beforeCreate","concat","__vue_normalize__","inject","source","map","version","sources","names","mappings","file","sourcesContent","media","__vue_create_injector__","head","document","getElementsByTagName","styles","isOldIE","navigator","test","userAgent","toLowerCase","css","querySelector","group","ids","parts","element","includes","code","createElement","setAttribute","appendChild","parseInt","getAttribute","styleSheet","cssText","filter","join","textNode","createTextNode","nodes","childNodes","removeChild","insertBefore","plugin","install","installed","GlobalVue","window","use","__webpack_exports__"],"mappings":"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","file":"static/js/app.293d6747999e6c63cd19.js","sourcesContent":["<template>\n  <div id=\"app\">\n    <virtual-stream :items=\"items\" reversed :items-per-chunk=\"15\">\n      <template slot-scope=\"{ item, index }\">\n        <div class=\"item\">\n          <div>{{ item.id }}</div>\n          <div class=\"message\">{{ item.message }}</div>\n        </div>\n      </template>\n    </virtual-stream>\n  </div>\n</template>\n\n<script>\nimport LoremIpsum from 'lorem-ipsum'\nimport VirtualStream from '../../dist/vue-virtual-stream.esm'\n\nexport default {\n  name: 'App',\n  components: {\n    VirtualStream\n  },\n  data() {\n    return {\n      items: this.generateMessages(3000)\n    }\n  },\n  methods: {\n    generateMessages(num) {\n      const messages = []\n      for (let i = 0; i < num; i++) {\n        messages.push(this.generateMessage(i))\n      }\n      return messages\n    },\n    generateMessage(id) {\n      return {\n        id,\n        message: LoremIpsum({\n          sentenceLowerBound: 5,\n          sentenceUpperBound: 100,\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: left;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n<style scoped>\n.item {\n  margin: 64px 0;\n}\n\n.message {\n  font-size: 20px;\n  line-height: 32px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('virtual-stream',{attrs:{\"items\":_vm.items,\"reversed\":\"\",\"items-per-chunk\":15},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nvar index = ref.index;\nreturn [_c('div',{staticClass:\"item\"},[_c('div',[_vm._v(_vm._s(item.id))]),_vm._v(\" \"),_c('div',{staticClass:\"message\"},[_vm._v(_vm._s(item.message))])])]}}])})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2b8858cc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2b8858cc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2b8858cc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=1!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2b8858cc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2b8858cc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar script = {\n  name: 'VirtualStream',\n  props: {\n    items: {\n      type: Array,\n      required: true,\n    },\n    reversed: {\n      type: Boolean,\n      default: false,\n    },\n    itemsPerChunk: {\n      type: Number,\n      default: 50,\n    },\n    maxChunkPreload: {\n      type: Number,\n      default: 1,\n    },\n    preloadOffset: {\n      type: Number,\n      default: 50\n    },\n  },\n  data: function data() {\n    return {\n      currentChunk: 0,\n    }\n  },\n  computed: {\n    chunkItems: function chunkItems () {\n      var chunkIndex = 0;\n      var itemIndex = 0;\n      var chunks = [];\n\n      for (var i = 0; i < this.items.length; i++) {\n        if (!chunks[chunkIndex]) { chunks[chunkIndex] = []; }\n        chunks[chunkIndex].push(this.items[i]);\n        itemIndex++;\n\n        if (itemIndex >= this.itemsPerChunk) {\n          chunkIndex++;\n          itemIndex = 0;\n        }\n      }\n\n      return chunks\n    },\n    chunkCount: function chunkCount () {\n      return Math.ceil(this.items.length / this.itemsPerChunk) - 1\n    }\n  },\n  methods: {\n    handleScroll: function handleScroll() {\n      var scrollTop = this.$refs.wrapper.scrollTop;\n      var prevScrollOffset = this.getPrevScrollOffset(scrollTop);\n      var nextScrollOffset = this.getNextScrollOffset(scrollTop);\n\n      if (prevScrollOffset && prevScrollOffset > this.preloadOffset) {\n        this.currentChunk--;\n        this.correctScrollPosition(false);\n      }\n\n      if (nextScrollOffset && nextScrollOffset > this.preloadOffset) {\n        this.currentChunk++;\n        this.correctScrollPosition(true);\n      }\n    },\n    getPrevScrollOffset: function getPrevScrollOffset(scrollTop) {\n      if (this.$refs.itemsPrev) {\n        var offset = this.$refs.itemsCurrent.offsetHeight + ((this.$refs.itemsNext) ? this.$refs.itemsNext.offsetHeight : 0);\n        var height = this.$refs.itemsPrev.offsetHeight;\n        var scrollBottom = (scrollTop + this.$refs.wrapper.offsetHeight) - offset;\n\n        if (scrollBottom >= 0) {\n          return (scrollBottom / height) * 100\n        }\n        return 0\n      }\n\n      return false\n    },\n    getNextScrollOffset: function getNextScrollOffset(scrollTop) {\n      if (this.$refs.itemsNext) {\n        var height = this.$refs.itemsNext.offsetHeight;\n        if (scrollTop <= height) {\n          return 100 - ((scrollTop / height) * 100)\n        }\n        return 0\n      }\n\n      return false\n    },\n    correctScrollPosition: function correctScrollPosition(wasNext) {\n      var offsetter = (this.$refs.itemsCurrent.offsetHeight * (this.preloadOffset / 100));\n\n      if (wasNext) {\n        var offsetNext = (this.$refs.itemsNext) ? this.$refs.itemsNext.offsetHeight : 0;\n        var scrollPos = offsetNext + offsetter;\n        this.$refs.wrapper.scrollTop = scrollPos;\n      } else {\n        var offsetPrev = ((this.$refs.itemsNext) ? this.$refs.itemsNext.offsetHeight : 0) + this.$refs.itemsCurrent.offsetHeight;\n        var scrollPos$1 = offsetPrev - this.$refs.wrapper.offsetHeight - offsetter;\n        this.$refs.wrapper.scrollTop = scrollPos$1;\n      }\n    }\n  }\n};\n\n/* script */\n            var __vue_script__ = script;\n            \n/* template */\nvar __vue_render__ = function() {\n  var _vm = this;\n  var _h = _vm.$createElement;\n  var _c = _vm._self._c || _h;\n  return _c(\n    \"div\",\n    { ref: \"container\", staticClass: \"VirtualStream__Scroller\" },\n    [\n      _c(\n        \"div\",\n        {\n          ref: \"wrapper\",\n          staticClass: \"VirtualStream__Wrapper\",\n          class: { \"VirtualStream__Wrapper--isReversed\": _vm.reversed },\n          on: { scroll: _vm.handleScroll }\n        },\n        [\n          _vm.chunkItems[_vm.currentChunk - 1]\n            ? _c(\n                \"div\",\n                { ref: \"itemsPrev\", staticClass: \"VirtualStream__Items\" },\n                [\n                  _vm._l(_vm.chunkItems[_vm.currentChunk - 1], function(\n                    item,\n                    index\n                  ) {\n                    return _vm._t(\"default\", null, { item: item, index: index })\n                  })\n                ],\n                2\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { ref: \"itemsCurrent\", staticClass: \"VirtualStream__Items\" },\n            [\n              _vm._l(_vm.chunkItems[_vm.currentChunk], function(item, index) {\n                return _vm._t(\"default\", null, { item: item, index: index })\n              })\n            ],\n            2\n          ),\n          _vm._v(\" \"),\n          _vm.chunkItems[_vm.currentChunk + 1]\n            ? _c(\n                \"div\",\n                { ref: \"itemsNext\", staticClass: \"VirtualStream__Items\" },\n                [\n                  _vm._l(_vm.chunkItems[_vm.currentChunk + 1], function(\n                    item,\n                    index\n                  ) {\n                    return _vm._t(\"default\", null, { item: item, index: index })\n                  })\n                ],\n                2\n              )\n            : _vm._e()\n        ]\n      )\n    ]\n  )\n};\nvar __vue_staticRenderFns__ = [];\n__vue_render__._withStripped = true;\n\n  /* style */\n  var __vue_inject_styles__ = function (inject) {\n    if (!inject) { return }\n    inject(\"data-v-662523d4_0\", { source: \"\\n.VirtualStream__Scroller[data-v-662523d4] {\\n  height: 100%;\\n  left: 0;\\n  overflow: auto;\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n}\\n.VirtualStream__Wrapper[data-v-662523d4] {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n  overflow: auto;\\n  width: 100%;\\n}\\n.VirtualStream__Wrapper--isReversed[data-v-662523d4] {\\n  flex-direction: column-reverse;\\n}\\n.VirtualStream__Items[data-v-662523d4] {\\n  display: flex;\\n  flex-direction: column;\\n  flex: 0 0 auto;\\n}\\n.VirtualStream__Wrapper--isReversed .VirtualStream__Items[data-v-662523d4] {\\n  flex-direction: column-reverse;\\n}\\n\", map: {\"version\":3,\"sources\":[\"/home/webadepts/www/opensource/vue-virtual-stream/src/components/VirtualStream.vue\"],\"names\":[],\"mappings\":\";AA4IA;EACA,aAAA;EACA,QAAA;EACA,eAAA;EACA,mBAAA;EACA,OAAA;EACA,YAAA;CACA;AAEA;EACA,cAAA;EACA,uBAAA;EACA,aAAA;EACA,eAAA;EACA,YAAA;CACA;AAEA;EACA,+BAAA;CACA;AAEA;EACA,cAAA;EACA,uBAAA;EACA,eAAA;CACA;AAEA;EACA,+BAAA;CACA\",\"file\":\"VirtualStream.vue\",\"sourcesContent\":[\"<template>\\n  <div class=\\\"VirtualStream__Scroller\\\" ref=\\\"container\\\">\\n    <div class=\\\"VirtualStream__Wrapper\\\" :class=\\\"{ 'VirtualStream__Wrapper--isReversed': reversed }\\\" ref=\\\"wrapper\\\" @scroll=\\\"handleScroll\\\">\\n      <div class=\\\"VirtualStream__Items\\\" ref=\\\"itemsPrev\\\" v-if=\\\"chunkItems[currentChunk - 1]\\\">\\n        <slot\\n          v-for=\\\"(item, index) in chunkItems[currentChunk - 1]\\\"\\n          :item=\\\"item\\\"\\n          :index=\\\"index\\\"\\n        />\\n      </div>\\n      <div class=\\\"VirtualStream__Items\\\" ref=\\\"itemsCurrent\\\">\\n        <slot\\n          v-for=\\\"(item, index) in chunkItems[currentChunk]\\\"\\n          :item=\\\"item\\\"\\n          :index=\\\"index\\\"\\n        />\\n      </div>\\n      <div class=\\\"VirtualStream__Items\\\" ref=\\\"itemsNext\\\" v-if=\\\"chunkItems[currentChunk + 1]\\\">\\n        <slot\\n          v-for=\\\"(item, index) in chunkItems[currentChunk + 1]\\\"\\n          :item=\\\"item\\\"\\n          :index=\\\"index\\\"\\n        />\\n      </div>\\n    </div>\\n  </div>\\n</template>\\n\\n<script>\\n  export default {\\n    name: 'VirtualStream',\\n    props: {\\n      items: {\\n        type: Array,\\n        required: true,\\n      },\\n      reversed: {\\n        type: Boolean,\\n        default: false,\\n      },\\n      itemsPerChunk: {\\n        type: Number,\\n        default: 50,\\n      },\\n      maxChunkPreload: {\\n        type: Number,\\n        default: 1,\\n      },\\n      preloadOffset: {\\n        type: Number,\\n        default: 50\\n      },\\n    },\\n    data() {\\n      return {\\n        currentChunk: 0,\\n      }\\n    },\\n    computed: {\\n      chunkItems () {\\n        let chunkIndex = 0\\n        let itemIndex = 0\\n        const chunks = []\\n\\n        for (let i = 0; i < this.items.length; i++) {\\n          if (!chunks[chunkIndex]) { chunks[chunkIndex] = [] }\\n          chunks[chunkIndex].push(this.items[i])\\n          itemIndex++\\n\\n          if (itemIndex >= this.itemsPerChunk) {\\n            chunkIndex++\\n            itemIndex = 0\\n          }\\n        }\\n\\n        return chunks\\n      },\\n      chunkCount () {\\n        return Math.ceil(this.items.length / this.itemsPerChunk) - 1\\n      }\\n    },\\n    methods: {\\n      handleScroll() {\\n        const scrollTop = this.$refs.wrapper.scrollTop\\n        const prevScrollOffset = this.getPrevScrollOffset(scrollTop)\\n        const nextScrollOffset = this.getNextScrollOffset(scrollTop)\\n\\n        if (prevScrollOffset && prevScrollOffset > this.preloadOffset) {\\n          this.currentChunk--\\n          this.correctScrollPosition(false)\\n        }\\n\\n        if (nextScrollOffset && nextScrollOffset > this.preloadOffset) {\\n          this.currentChunk++\\n          this.correctScrollPosition(true)\\n        }\\n      },\\n      getPrevScrollOffset(scrollTop) {\\n        if (this.$refs.itemsPrev) {\\n          const offset = this.$refs.itemsCurrent.offsetHeight + ((this.$refs.itemsNext) ? this.$refs.itemsNext.offsetHeight : 0)\\n          const height = this.$refs.itemsPrev.offsetHeight\\n          const scrollBottom = (scrollTop + this.$refs.wrapper.offsetHeight) - offset\\n\\n          if (scrollBottom >= 0) {\\n            return (scrollBottom / height) * 100\\n          }\\n          return 0\\n        }\\n\\n        return false\\n      },\\n      getNextScrollOffset(scrollTop) {\\n        if (this.$refs.itemsNext) {\\n          const height = this.$refs.itemsNext.offsetHeight\\n          if (scrollTop <= height) {\\n            return 100 - ((scrollTop / height) * 100)\\n          }\\n          return 0\\n        }\\n\\n        return false\\n      },\\n      correctScrollPosition(wasNext) {\\n        const offsetter = (this.$refs.itemsCurrent.offsetHeight * (this.preloadOffset / 100))\\n\\n        if (wasNext) {\\n          const offsetNext = (this.$refs.itemsNext) ? this.$refs.itemsNext.offsetHeight : 0\\n          const scrollPos = offsetNext + offsetter\\n          this.$refs.wrapper.scrollTop = scrollPos\\n        } else {\\n          const offsetPrev = ((this.$refs.itemsNext) ? this.$refs.itemsNext.offsetHeight : 0) + this.$refs.itemsCurrent.offsetHeight\\n          const scrollPos = offsetPrev - this.$refs.wrapper.offsetHeight - offsetter\\n          this.$refs.wrapper.scrollTop = scrollPos\\n        }\\n      }\\n    }\\n  }\\n</script>\\n\\n<style scoped>\\n  .VirtualStream__Scroller {\\n    height: 100%;\\n    left: 0;\\n    overflow: auto;\\n    position: absolute;\\n    top: 0;\\n    width: 100%;\\n  }\\n\\n  .VirtualStream__Wrapper {\\n    display: flex;\\n    flex-direction: column;\\n    height: 100%;\\n    overflow: auto;\\n    width: 100%;\\n  }\\n\\n  .VirtualStream__Wrapper--isReversed {\\n    flex-direction: column-reverse;\\n  }\\n\\n  .VirtualStream__Items {\\n    display: flex;\\n    flex-direction: column;\\n    flex: 0 0 auto;\\n  }\\n\\n  .VirtualStream__Wrapper--isReversed .VirtualStream__Items {\\n    flex-direction: column-reverse;\\n  }\\n</style>\\n\"]}, media: undefined });\n\n  };\n  /* scoped */\n  var __vue_scope_id__ = \"data-v-662523d4\";\n  /* module identifier */\n  var __vue_module_identifier__ = undefined;\n  /* functional template */\n  var __vue_is_functional_template__ = false;\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script$$1,\n    scope, functional, moduleIdentifier,\n    createInjector, createInjectorSSR\n  ) {\n    var component = (typeof script$$1 === 'function' ? script$$1.options : script$$1) || {};\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"/home/webadepts/www/opensource/vue-virtual-stream/src/components/VirtualStream.vue\";\n\n    if (!component.render) {\n      component.render = template.render;\n      component.staticRenderFns = template.staticRenderFns;\n      component._compiled = true;\n\n      if (functional) { component.functional = true; }\n    }\n\n    component._scopeId = scope;\n\n    {\n      var hook;\n      if (style) {\n        hook = function(context) {\n          style.call(this, createInjector(context));\n        };\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          var originalRender = component.render;\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context);\n            return originalRender(h, context)\n          };\n        } else {\n          // inject component registration as beforeCreate hook\n          var existing = component.beforeCreate;\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    var head = document.head || document.getElementsByTagName('head')[0];\n    var styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {});\n    var isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) { return } // SSR styles are present.\n\n      var group = isOldIE ? css.media || 'default' : id;\n      var style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined });\n\n      if (!style.ids.includes(id)) {\n        var code = css.source;\n        var index = style.ids.length;\n\n        style.ids.push(id);\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']');\n        }\n\n        if (!style.element) {\n          var el = style.element = document.createElement('style');\n          el.type = 'text/css';\n\n          if (css.media) { el.setAttribute('media', css.media); }\n          if (isOldIE) {\n            el.setAttribute('data-group', group);\n            el.setAttribute('data-next-index', '0');\n          }\n\n          head.appendChild(el);\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'));\n          style.element.setAttribute('data-next-index', index + 1);\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code);\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n');\n        } else {\n          var textNode = document.createTextNode(code);\n          var nodes = style.element.childNodes;\n          if (nodes[index]) { style.element.removeChild(nodes[index]); }\n          if (nodes.length) { style.element.insertBefore(textNode, nodes[index]); }\n          else { style.element.appendChild(textNode); }\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n\n  \n  var VirtualStream = __vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    __vue_create_injector__,\n    undefined\n  );\n\nfunction install(Vue) {\n    if (install.installed) { return }\n\tinstall.installed = true;\n\tVue.component('VirtualStream', VirtualStream);\n}\n\nvar plugin = {\n    install: install,\n};\n\nvar GlobalVue = null;\nif (typeof window !== 'undefined') {\n    GlobalVue = window.Vue;\n} else if (typeof global !== 'undefined') {\n    GlobalVue = global.Vue;\n}\n\nif (GlobalVue) {\n    GlobalVue.use(plugin);\n}\n\nexport default VirtualStream;\nexport { install };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../dist/vue-virtual-stream.esm.js\n// module id = bxQx\n// module chunks = 1"],"sourceRoot":""}