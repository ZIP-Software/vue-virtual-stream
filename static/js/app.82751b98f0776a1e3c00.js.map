{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/App.vue?d312","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///../dist/vue-virtual-stream.esm.js"],"names":["App","name","components","VirtualStream","[object Object]","items","this","generateMessages","methods","num","messages","i","push","generateMessage","reverse","id","message","generator_default","sentenceLowerBound","sentenceUpperBound","splice","length","selectortype_template_index_0_src_App","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","reversed","items-per-chunk","preloadOffset","scopedSlots","_u","key","fn","ref","item","index","_v","_s","on","click","addMessage","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","Vue","config","productionTip","el","template","global","__vue_script__","props","type","Array","required","Boolean","default","itemsPerChunk","Number","maxChunkPreload","data","currentChunk","computed","chunkItems","chunkIndex","itemIndex","chunks","chunkCount","Math","ceil","handleScroll","scrollTop","$refs","wrapper","prevScrollOffset","getPrevScrollOffset","nextScrollOffset","getNextScrollOffset","correctScrollPosition","itemsPrev","offset","itemsCurrent","offsetHeight","itemsNext","height","scrollBottom","wasNext","offsetter","scrollPos","scrollPos$1","__vue_render__","class","VirtualStream__Wrapper--isReversed","scroll","_l","_t","_e","_withStripped","style","script$$1","scope","functional","moduleIdentifier","createInjector","createInjectorSSR","hook","component","options","__file","_compiled","_scopeId","context","call","undefined","originalRender","h","existing","beforeCreate","concat","__vue_normalize__","inject","source","map","version","sources","names","mappings","file","sourcesContent","media","__vue_create_injector__","head","document","getElementsByTagName","styles","isOldIE","navigator","test","userAgent","toLowerCase","css","querySelector","group","ids","parts","element","includes","code","createElement","setAttribute","appendChild","parseInt","getAttribute","styleSheet","cssText","filter","join","textNode","createTextNode","nodes","childNodes","removeChild","insertBefore","plugin","install","installed","GlobalVue","window","use","__webpack_exports__"],"mappings":"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","file":"static/js/app.82751b98f0776a1e3c00.js","sourcesContent":["<template>\n  <div class=\"app\" id=\"app\">\n    <div class=\"container\">\n      <div class=\"container-inner\">\n        <virtual-stream :items=\"items\" reversed :items-per-chunk=\"8\" :preloadOffset=\"50\">\n          <template slot-scope=\"{ item, index }\">\n            <div class=\"item\">\n              <div class=\"message\">{{ item.message }}</div>\n            </div>\n          </template>\n        </virtual-stream>\n      </div>\n      <button v-on:click=\"addMessage\">Add message</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport LoremIpsum from 'lorem-ipsum'\nimport VirtualStream from '../../dist/vue-virtual-stream.esm'\n\nexport default {\n  name: 'App',\n  components: {\n    VirtualStream\n  },\n  data() {\n    return {\n      items: this.generateMessages(80)\n    }\n  },\n  methods: {\n    generateMessages(num) {\n      const messages = []\n      for (let i = 0; i < num; i++) {\n        messages.push(this.generateMessage(i))\n      }\n      return messages.reverse()\n    },\n    generateMessage(id) {\n      return {\n        id,\n        message: LoremIpsum({\n          sentenceLowerBound: 5,\n          sentenceUpperBound: 100,\n        })\n      }\n    },\n    addMessage() {\n      this.items.splice(0, 0, this.generateMessage(this.items.length))\n    }\n  }\n}\n</script>\n\n<style>\nhtml,\nbody {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n}\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: left;\n  color: #2c3e50;\n}\n\n*,\n*:before,\n*:after {\n  box-sizing: border-box;\n}\n</style>\n\n<style scoped>\n.app {\n  background: #0a7e8c;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.item {\n  font-size: 16px;\n  line-height: 1.75em;\n  margin: 32px 0;\n  max-width: 80%;\n  padding: 8px 12px;\n  background: #f3f3f3;\n  border-radius: 12px;\n}\n\n.item:nth-child(2n) {\n  margin-left: auto;\n}\n\n.container {\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 40px 240px rgba(0, 0, 0, .35);\n  flex: 1 1 100%;\n  margin: 60px auto;\n  max-width: 800px;\n  padding: 30px;\n  width: 90%;\n}\n\n.container-inner {\n  height: 100%;\n  position: relative;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\",attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"container-inner\"},[_c('virtual-stream',{attrs:{\"items\":_vm.items,\"reversed\":\"\",\"items-per-chunk\":8,\"preloadOffset\":50},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nvar index = ref.index;\nreturn [_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"message\"},[_vm._v(_vm._s(item.message))])])]}}])})],1),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.addMessage}},[_vm._v(\"Add message\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-55b64b2d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-55b64b2d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-55b64b2d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=1!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-55b64b2d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-55b64b2d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar script = {\n  name: 'VirtualStream',\n  props: {\n    items: {\n      type: Array,\n      required: true,\n    },\n    reversed: {\n      type: Boolean,\n      default: false,\n    },\n    itemsPerChunk: {\n      type: Number,\n      default: 50,\n    },\n    maxChunkPreload: {\n      type: Number,\n      default: 1,\n    },\n    preloadOffset: {\n      type: Number,\n      default: 50\n    },\n  },\n  data: function data() {\n    return {\n      currentChunk: 0,\n    }\n  },\n  computed: {\n    chunkItems: function chunkItems () {\n      var chunkIndex = 0;\n      var itemIndex = 0;\n      var chunks = [];\n\n      for (var i = 0; i < this.items.length; i++) {\n        if (!chunks[chunkIndex]) { chunks[chunkIndex] = []; }\n        chunks[chunkIndex].push(this.items[i]);\n        itemIndex++;\n\n        if (itemIndex >= this.itemsPerChunk) {\n          chunkIndex++;\n          itemIndex = 0;\n        }\n      }\n\n      return chunks\n    },\n    chunkCount: function chunkCount () {\n      return Math.ceil(this.items.length / this.itemsPerChunk) - 1\n    }\n  },\n  methods: {\n    handleScroll: function handleScroll() {\n      var scrollTop = this.$refs.wrapper.scrollTop;\n      var prevScrollOffset = this.getPrevScrollOffset(scrollTop);\n      var nextScrollOffset = this.getNextScrollOffset(scrollTop);\n\n      if (prevScrollOffset && prevScrollOffset > this.preloadOffset) {\n        this.currentChunk--;\n        this.correctScrollPosition(false);\n      }\n\n      if (nextScrollOffset && nextScrollOffset > this.preloadOffset) {\n        this.currentChunk++;\n        this.correctScrollPosition(true);\n      }\n    },\n    getPrevScrollOffset: function getPrevScrollOffset(scrollTop) {\n      if (this.$refs.itemsPrev) {\n        var offset = this.$refs.itemsCurrent.offsetHeight + ((this.$refs.itemsNext) ? this.$refs.itemsNext.offsetHeight : 0);\n        var height = this.$refs.itemsPrev.offsetHeight;\n        var scrollBottom = (scrollTop + this.$refs.wrapper.offsetHeight) - offset;\n\n        if (scrollBottom >= 0) {\n          return (scrollBottom / height) * 100\n        }\n        return 0\n      }\n\n      return false\n    },\n    getNextScrollOffset: function getNextScrollOffset(scrollTop) {\n      if (this.$refs.itemsNext) {\n        var height = this.$refs.itemsNext.offsetHeight;\n        if (scrollTop <= height) {\n          return 100 - ((scrollTop / height) * 100)\n        }\n        return 0\n      }\n\n      return false\n    },\n    correctScrollPosition: function correctScrollPosition(wasNext) {\n      var offsetter = (this.$refs.itemsCurrent.offsetHeight * (this.preloadOffset / 100));\n\n      if (wasNext) {\n        var offsetNext = (this.$refs.itemsNext) ? this.$refs.itemsNext.offsetHeight : 0;\n        var scrollPos = offsetNext + offsetter;\n        this.$refs.wrapper.scrollTop = scrollPos;\n      } else {\n        var offsetPrev = ((this.$refs.itemsNext) ? this.$refs.itemsNext.offsetHeight : 0) + this.$refs.itemsCurrent.offsetHeight;\n        var scrollPos$1 = offsetPrev - this.$refs.wrapper.offsetHeight - offsetter;\n        this.$refs.wrapper.scrollTop = scrollPos$1;\n      }\n    }\n  }\n};\n\n/* script */\n            var __vue_script__ = script;\n            \n/* template */\nvar __vue_render__ = function() {\n  var _vm = this;\n  var _h = _vm.$createElement;\n  var _c = _vm._self._c || _h;\n  return _c(\n    \"div\",\n    { ref: \"container\", staticClass: \"VirtualStream__Scroller\" },\n    [\n      _c(\n        \"div\",\n        {\n          ref: \"wrapper\",\n          staticClass: \"VirtualStream__Wrapper\",\n          class: { \"VirtualStream__Wrapper--isReversed\": _vm.reversed },\n          on: { scroll: _vm.handleScroll }\n        },\n        [\n          _vm.chunkItems[_vm.currentChunk - 1]\n            ? _c(\n                \"div\",\n                { ref: \"itemsPrev\", staticClass: \"VirtualStream__Items\" },\n                [\n                  _vm._l(_vm.chunkItems[_vm.currentChunk - 1], function(\n                    item,\n                    index\n                  ) {\n                    return _vm._t(\"default\", null, { item: item, index: index })\n                  })\n                ],\n                2\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { ref: \"itemsCurrent\", staticClass: \"VirtualStream__Items\" },\n            [\n              _vm._l(_vm.chunkItems[_vm.currentChunk], function(item, index) {\n                return _vm._t(\"default\", null, { item: item, index: index })\n              })\n            ],\n            2\n          ),\n          _vm._v(\" \"),\n          _vm.chunkItems[_vm.currentChunk + 1]\n            ? _c(\n                \"div\",\n                { ref: \"itemsNext\", staticClass: \"VirtualStream__Items\" },\n                [\n                  _vm._l(_vm.chunkItems[_vm.currentChunk + 1], function(\n                    item,\n                    index\n                  ) {\n                    return _vm._t(\"default\", null, { item: item, index: index })\n                  })\n                ],\n                2\n              )\n            : _vm._e()\n        ]\n      )\n    ]\n  )\n};\nvar __vue_staticRenderFns__ = [];\n__vue_render__._withStripped = true;\n\n  /* style */\n  var __vue_inject_styles__ = function (inject) {\n    if (!inject) { return }\n    inject(\"data-v-662523d4_0\", { source: \"\\n.VirtualStream__Scroller[data-v-662523d4] {\\n  height: 100%;\\n  left: 0;\\n  overflow: auto;\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n}\\n.VirtualStream__Wrapper[data-v-662523d4] {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n  overflow: auto;\\n  width: 100%;\\n}\\n.VirtualStream__Wrapper--isReversed[data-v-662523d4] {\\n  flex-direction: column-reverse;\\n}\\n.VirtualStream__Items[data-v-662523d4] {\\n  display: flex;\\n  flex-direction: column;\\n  flex: 0 0 auto;\\n}\\n.VirtualStream__Wrapper--isReversed .VirtualStream__Items[data-v-662523d4] {\\n  flex-direction: column-reverse;\\n}\\n\", map: {\"version\":3,\"sources\":[\"/home/webadepts/www/opensource/vue-virtual-stream/src/components/VirtualStream.vue\"],\"names\":[],\"mappings\":\";AA4IA;EACA,aAAA;EACA,QAAA;EACA,eAAA;EACA,mBAAA;EACA,OAAA;EACA,YAAA;CACA;AAEA;EACA,cAAA;EACA,uBAAA;EACA,aAAA;EACA,eAAA;EACA,YAAA;CACA;AAEA;EACA,+BAAA;CACA;AAEA;EACA,cAAA;EACA,uBAAA;EACA,eAAA;CACA;AAEA;EACA,+BAAA;CACA\",\"file\":\"VirtualStream.vue\",\"sourcesContent\":[\"<template>\\n  <div class=\\\"VirtualStream__Scroller\\\" ref=\\\"container\\\">\\n    <div class=\\\"VirtualStream__Wrapper\\\" :class=\\\"{ 'VirtualStream__Wrapper--isReversed': reversed }\\\" ref=\\\"wrapper\\\" @scroll=\\\"handleScroll\\\">\\n      <div class=\\\"VirtualStream__Items\\\" ref=\\\"itemsPrev\\\" v-if=\\\"chunkItems[currentChunk - 1]\\\">\\n        <slot\\n          v-for=\\\"(item, index) in chunkItems[currentChunk - 1]\\\"\\n          :item=\\\"item\\\"\\n          :index=\\\"index\\\"\\n        />\\n      </div>\\n      <div class=\\\"VirtualStream__Items\\\" ref=\\\"itemsCurrent\\\">\\n        <slot\\n          v-for=\\\"(item, index) in chunkItems[currentChunk]\\\"\\n          :item=\\\"item\\\"\\n          :index=\\\"index\\\"\\n        />\\n      </div>\\n      <div class=\\\"VirtualStream__Items\\\" ref=\\\"itemsNext\\\" v-if=\\\"chunkItems[currentChunk + 1]\\\">\\n        <slot\\n          v-for=\\\"(item, index) in chunkItems[currentChunk + 1]\\\"\\n          :item=\\\"item\\\"\\n          :index=\\\"index\\\"\\n        />\\n      </div>\\n    </div>\\n  </div>\\n</template>\\n\\n<script>\\n  export default {\\n    name: 'VirtualStream',\\n    props: {\\n      items: {\\n        type: Array,\\n        required: true,\\n      },\\n      reversed: {\\n        type: Boolean,\\n        default: false,\\n      },\\n      itemsPerChunk: {\\n        type: Number,\\n        default: 50,\\n      },\\n      maxChunkPreload: {\\n        type: Number,\\n        default: 1,\\n      },\\n      preloadOffset: {\\n        type: Number,\\n        default: 50\\n      },\\n    },\\n    data() {\\n      return {\\n        currentChunk: 0,\\n      }\\n    },\\n    computed: {\\n      chunkItems () {\\n        let chunkIndex = 0\\n        let itemIndex = 0\\n        const chunks = []\\n\\n        for (let i = 0; i < this.items.length; i++) {\\n          if (!chunks[chunkIndex]) { chunks[chunkIndex] = [] }\\n          chunks[chunkIndex].push(this.items[i])\\n          itemIndex++\\n\\n          if (itemIndex >= this.itemsPerChunk) {\\n            chunkIndex++\\n            itemIndex = 0\\n          }\\n        }\\n\\n        return chunks\\n      },\\n      chunkCount () {\\n        return Math.ceil(this.items.length / this.itemsPerChunk) - 1\\n      }\\n    },\\n    methods: {\\n      handleScroll() {\\n        const scrollTop = this.$refs.wrapper.scrollTop\\n        const prevScrollOffset = this.getPrevScrollOffset(scrollTop)\\n        const nextScrollOffset = this.getNextScrollOffset(scrollTop)\\n\\n        if (prevScrollOffset && prevScrollOffset > this.preloadOffset) {\\n          this.currentChunk--\\n          this.correctScrollPosition(false)\\n        }\\n\\n        if (nextScrollOffset && nextScrollOffset > this.preloadOffset) {\\n          this.currentChunk++\\n          this.correctScrollPosition(true)\\n        }\\n      },\\n      getPrevScrollOffset(scrollTop) {\\n        if (this.$refs.itemsPrev) {\\n          const offset = this.$refs.itemsCurrent.offsetHeight + ((this.$refs.itemsNext) ? this.$refs.itemsNext.offsetHeight : 0)\\n          const height = this.$refs.itemsPrev.offsetHeight\\n          const scrollBottom = (scrollTop + this.$refs.wrapper.offsetHeight) - offset\\n\\n          if (scrollBottom >= 0) {\\n            return (scrollBottom / height) * 100\\n          }\\n          return 0\\n        }\\n\\n        return false\\n      },\\n      getNextScrollOffset(scrollTop) {\\n        if (this.$refs.itemsNext) {\\n          const height = this.$refs.itemsNext.offsetHeight\\n          if (scrollTop <= height) {\\n            return 100 - ((scrollTop / height) * 100)\\n          }\\n          return 0\\n        }\\n\\n        return false\\n      },\\n      correctScrollPosition(wasNext) {\\n        const offsetter = (this.$refs.itemsCurrent.offsetHeight * (this.preloadOffset / 100))\\n\\n        if (wasNext) {\\n          const offsetNext = (this.$refs.itemsNext) ? this.$refs.itemsNext.offsetHeight : 0\\n          const scrollPos = offsetNext + offsetter\\n          this.$refs.wrapper.scrollTop = scrollPos\\n        } else {\\n          const offsetPrev = ((this.$refs.itemsNext) ? this.$refs.itemsNext.offsetHeight : 0) + this.$refs.itemsCurrent.offsetHeight\\n          const scrollPos = offsetPrev - this.$refs.wrapper.offsetHeight - offsetter\\n          this.$refs.wrapper.scrollTop = scrollPos\\n        }\\n      }\\n    }\\n  }\\n</script>\\n\\n<style scoped>\\n  .VirtualStream__Scroller {\\n    height: 100%;\\n    left: 0;\\n    overflow: auto;\\n    position: absolute;\\n    top: 0;\\n    width: 100%;\\n  }\\n\\n  .VirtualStream__Wrapper {\\n    display: flex;\\n    flex-direction: column;\\n    height: 100%;\\n    overflow: auto;\\n    width: 100%;\\n  }\\n\\n  .VirtualStream__Wrapper--isReversed {\\n    flex-direction: column-reverse;\\n  }\\n\\n  .VirtualStream__Items {\\n    display: flex;\\n    flex-direction: column;\\n    flex: 0 0 auto;\\n  }\\n\\n  .VirtualStream__Wrapper--isReversed .VirtualStream__Items {\\n    flex-direction: column-reverse;\\n  }\\n</style>\\n\"]}, media: undefined });\n\n  };\n  /* scoped */\n  var __vue_scope_id__ = \"data-v-662523d4\";\n  /* module identifier */\n  var __vue_module_identifier__ = undefined;\n  /* functional template */\n  var __vue_is_functional_template__ = false;\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script$$1,\n    scope, functional, moduleIdentifier,\n    createInjector, createInjectorSSR\n  ) {\n    var component = (typeof script$$1 === 'function' ? script$$1.options : script$$1) || {};\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"/home/webadepts/www/opensource/vue-virtual-stream/src/components/VirtualStream.vue\";\n\n    if (!component.render) {\n      component.render = template.render;\n      component.staticRenderFns = template.staticRenderFns;\n      component._compiled = true;\n\n      if (functional) { component.functional = true; }\n    }\n\n    component._scopeId = scope;\n\n    {\n      var hook;\n      if (style) {\n        hook = function(context) {\n          style.call(this, createInjector(context));\n        };\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          var originalRender = component.render;\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context);\n            return originalRender(h, context)\n          };\n        } else {\n          // inject component registration as beforeCreate hook\n          var existing = component.beforeCreate;\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    var head = document.head || document.getElementsByTagName('head')[0];\n    var styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {});\n    var isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) { return } // SSR styles are present.\n\n      var group = isOldIE ? css.media || 'default' : id;\n      var style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined });\n\n      if (!style.ids.includes(id)) {\n        var code = css.source;\n        var index = style.ids.length;\n\n        style.ids.push(id);\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']');\n        }\n\n        if (!style.element) {\n          var el = style.element = document.createElement('style');\n          el.type = 'text/css';\n\n          if (css.media) { el.setAttribute('media', css.media); }\n          if (isOldIE) {\n            el.setAttribute('data-group', group);\n            el.setAttribute('data-next-index', '0');\n          }\n\n          head.appendChild(el);\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'));\n          style.element.setAttribute('data-next-index', index + 1);\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code);\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n');\n        } else {\n          var textNode = document.createTextNode(code);\n          var nodes = style.element.childNodes;\n          if (nodes[index]) { style.element.removeChild(nodes[index]); }\n          if (nodes.length) { style.element.insertBefore(textNode, nodes[index]); }\n          else { style.element.appendChild(textNode); }\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n\n  \n  var VirtualStream = __vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    __vue_create_injector__,\n    undefined\n  );\n\nfunction install(Vue) {\n    if (install.installed) { return }\n\tinstall.installed = true;\n\tVue.component('VirtualStream', VirtualStream);\n}\n\nvar plugin = {\n    install: install,\n};\n\nvar GlobalVue = null;\nif (typeof window !== 'undefined') {\n    GlobalVue = window.Vue;\n} else if (typeof global !== 'undefined') {\n    GlobalVue = global.Vue;\n}\n\nif (GlobalVue) {\n    GlobalVue.use(plugin);\n}\n\nexport default VirtualStream;\nexport { install };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../dist/vue-virtual-stream.esm.js\n// module id = bxQx\n// module chunks = 1"],"sourceRoot":""}